<% include ../partials/header %>

<div class = "container mt-4">

	<div class="px-4 py-5 mb-4 bg-light rounded-3 jumbotronImg">
		<h1 class="boldText text-center">The Debate</h1>
		<h5 class="boldText text-center">View our articles and join the conversation!</h5>
	</div>

	<div class="d-flex flex-nowrap">
		<div>
			<form class="input-group mb-3" action="/articles/search" method="POST">
				<input class="form-control mr-2" type="search" placeholder="Search" aria-label="Search" name='search' aria-describedby="searchButton">
				<button class="btn btn-outline-success mr-2" type="submit">Search</button>
			</form>
		</div>
		<div class="ms-auto">
			<a href="/articles/new" class="btn btn-danger text-nowrap" id="searchButton"> 
				Add Article
			</a>
		</div>
	</div>


	<div class="row row-cols-1 row-cols-md-3 row-cols-lg-4 g-4 mb-3" id="gridRow">
		<% articles.forEach(function(article) { %>
			<div class="col" id='cardLink'>
				<div class="card h-100 shadow-sm cardHover">
					<img class="card-img-top" style="height: 175px; cursor:pointer;" src="<%= article.image%>" onclick="location.href='/articles/<%= article._id %>'"></img>
					<div class="card-body" onclick="location.href='/articles/<%= article._id %>'" style="cursor:pointer;">
						<div class="card-title h5">
							<strong><%= article.title %></strong> by <%= article.author.full_name %>
						</div>
						<p class='card-text line-clamp mb-2'><%=article.post %></p>
					</div>	
					<!-- Add liking system -->
					<!-- <div class="card-footer">
						<div class='row'>
							<form class="col" action="/articles/<%= article._id %>/dislike?_method=PUT" method="POST">
								<button class="btn btn-danger col">
									<i class="far fa-thumbs-down"></i>
								</button>
							</form>
							<form class="col" action="/articles/<%= article._id %>/like?_method=PUT" method="POST">
								<button class="btn btn-success float-end col">
									<i class="far fa-thumbs-up"></i>
								</button>
							</form>
						</div>
					</div> -->
				</div>
			</div>
		<% }); %>

		</div>
	</div>
</div>

<% include ../partials/footer %>
